[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Programming in Base R",
    "section": "",
    "text": "# Pre-treatment blood pressure values\npre_bp &lt;- c(130, 128, 116, 124, 133, 134, 118, 126, 114, 127, 141, 138, 128, 140, 137, 131, 120, 128, 139, 135)\n\n# Post-treatment blood pressure values\npost_bp &lt;- c(114, 98, 113, 99, 107, 116, 113, 111, 119, 117, 101, 119, 130, 122, 106, 106, 124, 102, 117, 113)\n\n# Assigning names to the vectors\nnames(pre_bp) &lt;- paste(\"Subject\", 1:20, sep = \"_\")\nnames(post_bp) &lt;- paste(\"Subject\", 1:20, sep = \"_\")\n\n# Calculating the change in blood pressure\ndiff_bp &lt;- pre_bp - post_bp\n\n# Calculating the average decrease in blood pressure\navg_decrease &lt;- mean(diff_bp)\n\n# Determining patients with a decrease in blood pressure\ndecrease_indices &lt;- which(diff_bp &gt; 0)\n\n# Subsetting vector for positive changes\npositive_changes &lt;- diff_bp[decrease_indices]\n\n# Calculating the average decrease for positive changes\navg_positive_decrease &lt;- mean(positive_changes)\n\nlist(pre_bp, post_bp, diff_bp, avg_decrease, decrease_indices, positive_changes, avg_positive_decrease)\n\n[[1]]\n Subject_1  Subject_2  Subject_3  Subject_4  Subject_5  Subject_6  Subject_7 \n       130        128        116        124        133        134        118 \n Subject_8  Subject_9 Subject_10 Subject_11 Subject_12 Subject_13 Subject_14 \n       126        114        127        141        138        128        140 \nSubject_15 Subject_16 Subject_17 Subject_18 Subject_19 Subject_20 \n       137        131        120        128        139        135 \n\n[[2]]\n Subject_1  Subject_2  Subject_3  Subject_4  Subject_5  Subject_6  Subject_7 \n       114         98        113         99        107        116        113 \n Subject_8  Subject_9 Subject_10 Subject_11 Subject_12 Subject_13 Subject_14 \n       111        119        117        101        119        130        122 \nSubject_15 Subject_16 Subject_17 Subject_18 Subject_19 Subject_20 \n       106        106        124        102        117        113 \n\n[[3]]\n Subject_1  Subject_2  Subject_3  Subject_4  Subject_5  Subject_6  Subject_7 \n        16         30          3         25         26         18          5 \n Subject_8  Subject_9 Subject_10 Subject_11 Subject_12 Subject_13 Subject_14 \n        15         -5         10         40         19         -2         18 \nSubject_15 Subject_16 Subject_17 Subject_18 Subject_19 Subject_20 \n        31         25         -4         26         22         22 \n\n[[4]]\n[1] 17\n\n[[5]]\n Subject_1  Subject_2  Subject_3  Subject_4  Subject_5  Subject_6  Subject_7 \n         1          2          3          4          5          6          7 \n Subject_8 Subject_10 Subject_11 Subject_12 Subject_14 Subject_15 Subject_16 \n         8         10         11         12         14         15         16 \nSubject_18 Subject_19 Subject_20 \n        18         19         20 \n\n[[6]]\n Subject_1  Subject_2  Subject_3  Subject_4  Subject_5  Subject_6  Subject_7 \n        16         30          3         25         26         18          5 \n Subject_8 Subject_10 Subject_11 Subject_12 Subject_14 Subject_15 Subject_16 \n        15         10         40         19         18         31         25 \nSubject_18 Subject_19 Subject_20 \n        26         22         22 \n\n[[7]]\n[1] 20.64706\n\n# Creating the data frame\nbp_df &lt;- data.frame(\n  patient = paste(\"Subject\", 1:20, sep = \"_\"),\n  pre_bp = pre_bp,\n  post_bp = post_bp,\n  diff_bp = diff_bp\n)\n\n# Returning rows with negative diff_bp\nnegative_diff_bp &lt;- bp_df[bp_df$diff_bp &lt; 0, ]\n\n# Adding a new column indicating post_bp &lt; 120\nbp_df$below_120 &lt;- bp_df$post_bp &lt; 120\n\n# Displaying the data frame\nknitr::kable(bp_df)\n\n\n\n\n\npatient\npre_bp\npost_bp\ndiff_bp\nbelow_120\n\n\n\n\nSubject_1\nSubject_1\n130\n114\n16\nTRUE\n\n\nSubject_2\nSubject_2\n128\n98\n30\nTRUE\n\n\nSubject_3\nSubject_3\n116\n113\n3\nTRUE\n\n\nSubject_4\nSubject_4\n124\n99\n25\nTRUE\n\n\nSubject_5\nSubject_5\n133\n107\n26\nTRUE\n\n\nSubject_6\nSubject_6\n134\n116\n18\nTRUE\n\n\nSubject_7\nSubject_7\n118\n113\n5\nTRUE\n\n\nSubject_8\nSubject_8\n126\n111\n15\nTRUE\n\n\nSubject_9\nSubject_9\n114\n119\n-5\nTRUE\n\n\nSubject_10\nSubject_10\n127\n117\n10\nTRUE\n\n\nSubject_11\nSubject_11\n141\n101\n40\nTRUE\n\n\nSubject_12\nSubject_12\n138\n119\n19\nTRUE\n\n\nSubject_13\nSubject_13\n128\n130\n-2\nFALSE\n\n\nSubject_14\nSubject_14\n140\n122\n18\nFALSE\n\n\nSubject_15\nSubject_15\n137\n106\n31\nTRUE\n\n\nSubject_16\nSubject_16\n131\n106\n25\nTRUE\n\n\nSubject_17\nSubject_17\n120\n124\n-4\nFALSE\n\n\nSubject_18\nSubject_18\n128\n102\n26\nTRUE\n\n\nSubject_19\nSubject_19\n139\n117\n22\nTRUE\n\n\nSubject_20\nSubject_20\n135\n113\n22\nTRUE\n\n\n\n\n# Placebo pre-treatment and post-treatment values\npre_placebo &lt;- c(138, 135, 147, 117, 152, 134, 114, 121, 131, 130)\npost_placebo &lt;- c(105, 136, 123, 130, 134, 143, 135, 139, 120, 124)\n\n# Creating the placebo data frame\nplacebo_df &lt;- data.frame(\n  patient = paste(\"Subject\", 1:10, sep = \"_\"),\n  pre_bp = pre_placebo,\n  post_bp = post_placebo\n)\nplacebo_df$diff_bp &lt;- placebo_df$pre_bp - placebo_df$post_bp\nplacebo_df$below_120 &lt;- placebo_df$post_bp &lt; 120\n\n# Creating the list\nbp_list &lt;- list(treatment = bp_df, placebo = placebo_df)\n\n# Accessing the first list element\nbp_list$treatment\n\n              patient pre_bp post_bp diff_bp below_120\nSubject_1   Subject_1    130     114      16      TRUE\nSubject_2   Subject_2    128      98      30      TRUE\nSubject_3   Subject_3    116     113       3      TRUE\nSubject_4   Subject_4    124      99      25      TRUE\nSubject_5   Subject_5    133     107      26      TRUE\nSubject_6   Subject_6    134     116      18      TRUE\nSubject_7   Subject_7    118     113       5      TRUE\nSubject_8   Subject_8    126     111      15      TRUE\nSubject_9   Subject_9    114     119      -5      TRUE\nSubject_10 Subject_10    127     117      10      TRUE\nSubject_11 Subject_11    141     101      40      TRUE\nSubject_12 Subject_12    138     119      19      TRUE\nSubject_13 Subject_13    128     130      -2     FALSE\nSubject_14 Subject_14    140     122      18     FALSE\nSubject_15 Subject_15    137     106      31      TRUE\nSubject_16 Subject_16    131     106      25      TRUE\nSubject_17 Subject_17    120     124      -4     FALSE\nSubject_18 Subject_18    128     102      26      TRUE\nSubject_19 Subject_19    139     117      22      TRUE\nSubject_20 Subject_20    135     113      22      TRUE\n\nbp_list[[1]]\n\n              patient pre_bp post_bp diff_bp below_120\nSubject_1   Subject_1    130     114      16      TRUE\nSubject_2   Subject_2    128      98      30      TRUE\nSubject_3   Subject_3    116     113       3      TRUE\nSubject_4   Subject_4    124      99      25      TRUE\nSubject_5   Subject_5    133     107      26      TRUE\nSubject_6   Subject_6    134     116      18      TRUE\nSubject_7   Subject_7    118     113       5      TRUE\nSubject_8   Subject_8    126     111      15      TRUE\nSubject_9   Subject_9    114     119      -5      TRUE\nSubject_10 Subject_10    127     117      10      TRUE\nSubject_11 Subject_11    141     101      40      TRUE\nSubject_12 Subject_12    138     119      19      TRUE\nSubject_13 Subject_13    128     130      -2     FALSE\nSubject_14 Subject_14    140     122      18     FALSE\nSubject_15 Subject_15    137     106      31      TRUE\nSubject_16 Subject_16    131     106      25      TRUE\nSubject_17 Subject_17    120     124      -4     FALSE\nSubject_18 Subject_18    128     102      26      TRUE\nSubject_19 Subject_19    139     117      22      TRUE\nSubject_20 Subject_20    135     113      22      TRUE\n\nbp_list[[\"treatment\"]]\n\n              patient pre_bp post_bp diff_bp below_120\nSubject_1   Subject_1    130     114      16      TRUE\nSubject_2   Subject_2    128      98      30      TRUE\nSubject_3   Subject_3    116     113       3      TRUE\nSubject_4   Subject_4    124      99      25      TRUE\nSubject_5   Subject_5    133     107      26      TRUE\nSubject_6   Subject_6    134     116      18      TRUE\nSubject_7   Subject_7    118     113       5      TRUE\nSubject_8   Subject_8    126     111      15      TRUE\nSubject_9   Subject_9    114     119      -5      TRUE\nSubject_10 Subject_10    127     117      10      TRUE\nSubject_11 Subject_11    141     101      40      TRUE\nSubject_12 Subject_12    138     119      19      TRUE\nSubject_13 Subject_13    128     130      -2     FALSE\nSubject_14 Subject_14    140     122      18     FALSE\nSubject_15 Subject_15    137     106      31      TRUE\nSubject_16 Subject_16    131     106      25      TRUE\nSubject_17 Subject_17    120     124      -4     FALSE\nSubject_18 Subject_18    128     102      26      TRUE\nSubject_19 Subject_19    139     117      22      TRUE\nSubject_20 Subject_20    135     113      22      TRUE\n\n# Accessing the placebo pre_bp column\nbp_list$placebo$pre_bp\n\n [1] 138 135 147 117 152 134 114 121 131 130\n\n# Adding status column\nbp_list$treatment$status &lt;- character(20)\nbp_list$placebo$status &lt;- character(10)\n\n# Creating the status column for the treatment data frame\nfor (i in 1:nrow(bp_list$treatment)) {\n  if (bp_list$treatment$post_bp[i] &lt;= 120) {\n    bp_list$treatment$status[i] &lt;- \"optimal\"\n  } else if (bp_list$treatment$post_bp[i] &lt;= 130) {\n    bp_list$treatment$status[i] &lt;- \"borderline\"\n  } else {\n    bp_list$treatment$status[i] &lt;- \"high\"\n  }\n}\n\n# Creating the status column for the placebo data frame\nfor (i in 1:nrow(bp_list$placebo)) {\n  if (bp_list$placebo$post_bp[i] &lt;= 120) {\n    bp_list$placebo$status[i] &lt;- \"optimal\"\n  } else if (bp_list$placebo$post_bp[i] &lt;= 130) {\n    bp_list$placebo$status[i] &lt;- \"borderline\"\n  } else {\n    bp_list$placebo$status[i] &lt;- \"high\"\n  }\n}\n\n# Function to calculate summary statistics\nsummary_stat &lt;- function(bp_list, stat = \"mean\") {\n  my_fun &lt;- get(stat)\n  \n  stats &lt;- c(\n    treatment_pre = my_fun(bp_list$treatment$pre_bp),\n    treatment_post = my_fun(bp_list$treatment$post_bp),\n    treatment_diff = my_fun(bp_list$treatment$diff_bp),\n    placebo_pre = my_fun(bp_list$placebo$pre_bp),\n    placebo_post = my_fun(bp_list$placebo$post_bp),\n    placebo_diff = my_fun(bp_list$placebo$diff_bp)\n  )\n  \n  names(stats) &lt;- c(\n    paste0(stat, \"_treatment_pre\"),\n    paste0(stat, \"_treatment_post\"),\n    paste0(stat, \"_treatment_diff\"),\n    paste0(stat, \"_placebo_pre\"),\n    paste0(stat, \"_placebo_post\"),\n    paste0(stat, \"_placebo_diff\")\n  )\n  \n  return(stats)\n}\n\n# Applying the function\nsummary_stat(bp_list)\n\n mean_treatment_pre mean_treatment_post mean_treatment_diff    mean_placebo_pre \n             129.35              112.35               17.00              131.90 \n  mean_placebo_post   mean_placebo_diff \n             128.90                3.00 \n\nsummary_stat(bp_list, \"var\")\n\n var_treatment_pre var_treatment_post var_treatment_diff    var_placebo_pre \n          64.55526           74.76579          153.68421          149.87778 \n  var_placebo_post   var_placebo_diff \n         124.98889          341.33333 \n\nsummary_stat(bp_list, \"sd\")\n\n sd_treatment_pre sd_treatment_post sd_treatment_diff    sd_placebo_pre \n         8.034629          8.646721         12.396944         12.242458 \n  sd_placebo_post   sd_placebo_diff \n        11.179843         18.475209 \n\nsummary_stat(bp_list, \"min\")\n\n min_treatment_pre min_treatment_post min_treatment_diff    min_placebo_pre \n               114                 98                 -5                114 \n  min_placebo_post   min_placebo_diff \n               105                -21 \n\nsummary_stat(bp_list, \"max\")\n\n max_treatment_pre max_treatment_post max_treatment_diff    max_placebo_pre \n               141                130                 40                152 \n  max_placebo_post   max_placebo_diff \n               143                 33"
  }
]